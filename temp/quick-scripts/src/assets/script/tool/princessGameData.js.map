{"version":3,"sources":["assets/script/tool/princessGameData.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":[" \nimport { princessStorage } from \"./princessStorage\";\n\nlet onCloseFinishCb: () => void = null;\nlet onClosefailCb: () => void = null;\nclass princessGameData {\n\n    private static _instance: princessGameData = null;\n\n    public static getInstance(): princessGameData {\n        if (this._instance == null) {\n            this._instance = new princessGameData();\n        }\n        return this._instance;\n    }\n\n\n    constructor() {\n        cc.game.on(cc.game.EVENT_HIDE, function () {\n            this.storageData();\n        }, this);\n    }\n\n    privacyPolicyUrl: string = \"https://sites.google.com/view/find-the-differences-fairy-pri/halaman-muka\";\n    termsofServiceUrl: string = \"https://sites.google.com/view/find-the-differences-fairy-ter/halaman-muka\";\n\n    levelAll: number = 30;\n    userData: any = {\n        isClause: false,    //是否打开过隐私协议    \n        tishiNum: 1,        //提示次数\n        level: 1,           //当前关卡\n        isHall: false,      //是否返回过大厅\n        isGudie: false,      //是否打开过新手引导\n        finishLevel5: false,  //是否完成过第5关\n        gameName: \"StrongBanana\",   //玩家名字\n        avatarId: 1,            //头像id\n    };\n\n    storageData() {\n        princessStorage.setStorageJSON(storage.gamedata, this.userData);\n    }\n\n\n    setVideoFailCb(cb: () => void) {\n        // onClosefailCb = null;\n        // onClosefailCb = cb;\n\n        window['onClosefailCb'] = null;\n        window['onClosefailCb']  = cb;\n    }\n\n    //看广告\n    showVideo(finishCb: () => void) {\n        console.log(\"android------------看广告\")\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showShiPing\", \"()V\");\n            onCloseFinishCb = null;\n            onCloseFinishCb = finishCb;\n        } else if (cc.sys.isNative && cc.sys.OS_IOS == cc.sys.os) {\n            //@ts-ignore\n            jsb.reflection.callStaticMethod(\"BeautifulFindAdMgr\", \"loadReward\");\n            window['onCloseFinishCb'] = null;\n            window['onCloseFinishCb']= finishCb;\n        } else {\n            finishCb();\n        }\n    }\n\n    //打开banner\n    showBanner() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"showbanner\", \"()V\");\n        }\n    }\n\n    //关闭banner\n    closeBanner() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"hidebanner\", \"()V\");\n        }\n    }\n\n    //打开url\n    openUrl() {\n        if (cc.sys.isNative && cc.sys.OS_ANDROID == cc.sys.os) {\n            jsb.reflection.callStaticMethod(\"org/cocos2dx/javascript/AppActivity\", \"openUrl\", \"()V\");\n        }\n    }\n\n\n\n    setGamestop(func: Function) {\n        window['gamestop'] = func;\n    }\n\n    setGamerecovery(func: Function) {\n        window['gamerecovery'] = func;\n    }\n\n}\n\nexport let pgData = princessGameData.getInstance();\n\nexport enum storage {\n    gamedata = \"gamedata\",\n}\n\nexport enum sound {\n    bgm = \"bgm\",\n    click = \"click\",\n    correct = \"correct\",\n    err = \"err\",\n    fail = \"fail\",\n    win = \"win\",\n}\n\n\nwindow['onCloseFinishCb'] = () => {\n   \n}\n\n/**sdk调用js里面window公众的函数 */\nwindow['onCloseVdieoFinishCb'] = () => {\n    // if (isPlayMusic) {\n    //     AudioCtr.bg();\n    // }\n    window['onCloseFinishCb']()\n}\n\n\n/**sdk调用js里面window公众的函数 */\nwindow['onCloseVdieofailCb'] = () => {\n    // if (isPlayMusic) {\n    //     AudioCtr.bg();\n    // }\n    window['onClosefailCb']()\n}\n\nwindow['onClosefailCb'] = () => {\n   \n}\n\n//游戏暂停\nwindow['gamestop'] = () => {\n\n}\n\n\n//游戏恢复\nwindow['gamerecovery'] = () => {\n\n}"]}